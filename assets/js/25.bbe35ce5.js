(window.webpackJsonp=window.webpackJsonp||[]).push([[25],{434:function(t,e,v){"use strict";v.r(e);var _=v(2),a=Object(_.a)({},(function(){var t=this,e=t._self._c;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h2",{attrs:{id:"概念"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#概念"}},[t._v("#")]),t._v(" 概念")]),t._v(" "),e("p",[t._v("每个Vue组件实例被创建后都会经过一系列初始化操作，比如：数据观测、模板编译，挂载实例到Dom上，以及数据变化之后更新DOM，这个运行过程叫做生命周期钩子函数，以方便用户在特定阶段加入自己的代码。")]),t._v(" "),e("p",[t._v("Vue的生命周期分为八个阶段：创建前后，挂载前后，更新前后，销毁前后，以及一些特殊场景的生命周期（activated等）,Vue3中新增了三个用于调试的生命周期。")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",[t._v("Vue2")]),t._v(" "),e("th",{staticStyle:{"text-align":"left"}},[t._v("Vue3")]),t._v(" "),e("th",[t._v("描述")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[t._v("beforeCreated")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("beforeCreated")]),t._v(" "),e("td",[t._v("组件实例创建前")])]),t._v(" "),e("tr",[e("td",[t._v("created")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("created")]),t._v(" "),e("td",[t._v("组件实例完全创建后")])]),t._v(" "),e("tr",[e("td",[t._v("beforeMount")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("beforeMount")]),t._v(" "),e("td",[t._v("组件挂载前")])]),t._v(" "),e("tr",[e("td",[t._v("mounted")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("mounted")]),t._v(" "),e("td",[t._v("组件挂载到实例上之后")])]),t._v(" "),e("tr",[e("td",[t._v("beforeUpdate")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("beforeUpdate")]),t._v(" "),e("td",[t._v("组件数据发生变化，更新之前")])]),t._v(" "),e("tr",[e("td",[t._v("updated")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("updated")]),t._v(" "),e("td",[t._v("组件数据更新之后")])]),t._v(" "),e("tr",[e("td",[t._v("beforeDestroy")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("beforeUnmounted")]),t._v(" "),e("td",[t._v("组件实例销毁之前")])]),t._v(" "),e("tr",[e("td",[t._v("destroyed")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("unmounted")]),t._v(" "),e("td",[t._v("组件实例销毁之后")])]),t._v(" "),e("tr",[e("td",[t._v("activated")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("activated")]),t._v(" "),e("td",[t._v("keep-alive缓存的组件激活时")])]),t._v(" "),e("tr",[e("td",[t._v("deactivated")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("deactivated")]),t._v(" "),e("td",[t._v("keep-alive缓存的组件停用时调用")])]),t._v(" "),e("tr",[e("td",[t._v("errorCaptured")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("errorCaptured")]),t._v(" "),e("td",[t._v("捕获来自子孙组件的错误时被调用")])]),t._v(" "),e("tr",[e("td",[t._v("-")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("renderTracked")]),t._v(" "),e("td",[t._v("调试钩子，响应式依赖被收集时调用")])]),t._v(" "),e("tr",[e("td",[t._v("-")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("renderTriggered")]),t._v(" "),e("td",[t._v("调试钩子，响应式依赖被触发时调用")])]),t._v(" "),e("tr",[e("td",[t._v("-")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("serverPrefetch")]),t._v(" "),e("td",[t._v("ssr only,组件实例在服务器上被渲染前调用")])])])]),t._v(" "),e("h2",{attrs:{id:"生命周期图变化"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#生命周期图变化"}},[t._v("#")]),t._v(" 生命周期图变化")]),t._v(" "),e("p",[t._v("setup在beforeCreate之前")]),t._v(" "),e("p",[e("img",{attrs:{src:"D:%5Ccode%5CBlog%5Cstar-blog.vuepress%5Cpublic%5Cimage-20240326091026632.png",alt:"image-20240326091026632"}})]),t._v(" "),e("h2",{attrs:{id:"生命周期所做的事情"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#生命周期所做的事情"}},[t._v("#")]),t._v(" 生命周期所做的事情")]),t._v(" "),e("ul",[e("li",[t._v("beforeCreate：通常用于插件开发中执行一些初始化任务")]),t._v(" "),e("li",[t._v("created：组件初始化完毕，可以访问所有data数据，获取接口数据等")]),t._v(" "),e("li",[t._v("beforeMount：组件挂载前")]),t._v(" "),e("li",[t._v("mounted：DOM已经创建，可以访问数据和DOM元素；访问子组件等")]),t._v(" "),e("li",[t._v("beforeUpdate：此时视图层还没有更新，可以获取更新前各种状态")]),t._v(" "),e("li",[t._v("updated：完成视图层更新，此时，所有的状态都是最新的")]),t._v(" "),e("li",[t._v("beforeUnmounted：实例被销毁前调用，可以用于清除一些定时器以及订阅的取消")]),t._v(" "),e("li",[t._v("unmounted：销毁组件实例，可以清理该组件与其他组件实例的连接，解绑它的全部指令以及事件监听器")])]),t._v(" "),e("h2",{attrs:{id:"为什么setup中没有beforecreate和created"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#为什么setup中没有beforecreate和created"}},[t._v("#")]),t._v(" 为什么setup中没有beforeCreate和created")]),t._v(" "),e("p",[t._v("在Vue3中composition api，setup函数就相当于执行beforeCreate和created，从生命周期图中，可以看出setup执行是先于beforeCreate和crated的，我们使用钩子函数就是为了在前面先把这些东西预设埋下，在setup函数中，组件实例就已经被创建完成了，那么滞后的这两个钩子也就没有必要再使用了，没有任何意义。beforeCreate和created是options Api特有的，Vue3为了兼容Vue2也是把这两个钩子函数暴露出来了。")])])}),[],!1,null,null,null);e.default=a.exports}}]);